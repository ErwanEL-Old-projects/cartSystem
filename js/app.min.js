let cart=[];const cartItemsCount=()=>{let t=document.getElementById("cartCounter");cartCounter=cart.length,cartCounter>0?t.textContent=cartCounter:t.textContent=""},checkLocalStorage=()=>{localStorage.items&&(cart=JSON.parse(localStorage.items),cart=JSON.parse(localStorage.getItem("items")),cartItemsCount())},setLocalStorage=()=>{localStorage.setItem("items",JSON.stringify(cart)),cart=JSON.parse(localStorage.getItem("items"))},addToCart=t=>{const e=document.getElementById(`${t}`),r=e.dataset.code,a=e.dataset.name,o=e.dataset.price;cart.push([r,a,o]),cartItemsCount(),setLocalStorage()};function printShoppingCart(){shoppingCart=document.getElementById("shoppingCart"),cart=JSON.parse(localStorage.items);let t="";for(var e=0;e<cart.length;e++)t+=`<li class="list-group-item" data-index="${e}">${cart[e]} <button data-index="${e}" class="btn btn-primary btn-sm float-right delete" type="button" onclick="removeCartItem();"><i class="fas fa-trash"></i></button></li> `;return shoppingCart.innerHTML=t,items=Array.from(shoppingCart.children),deleteButtons=Array.from(document.getElementsByClassName("delete")),removeCartItem()}const totalCart=()=>{let t=document.getElementById("shoppingCart"),e=document.getElementById("total");if(0===(t=Array.from(t.children)).length)e.textContent="Your cart is empty.";else{shoppingPrices=[];for(let e=0;e<t.length;e+=1){let r=t[e],a=Number(r.textContent.split(",")[2]);shoppingPrices.push(a)}totalShoppingCart=shoppingPrices.reduce((t,e)=>t+e),e.textContent=`Total: ${totalShoppingCart}`}},removeCartItem=()=>{shoppingCart=document.getElementById("shoppingCart"),items=Array.from(shoppingCart.children);for(const[t,e]of deleteButtons.entries())e.addEventListener("click",()=>(cart.splice(t,1),shoppingCart.removeChild(items[t]),cartItemsCount(),setLocalStorage(),totalCart(),printShoppingCart()))};